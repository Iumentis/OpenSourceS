-- SMART GAME SCANNER - GETS SPECIFIC NAMES AND PATHS
print("üîç SMART GAME SCANNER - COLLECTING NAMES")
print("=" .. string.rep("=", 50))

local output = {}
local function add(line) table.insert(output, line) end

add("=== GAME STRUCTURE WITH NAMES ===")
add("Time: " .. os.date("%H:%M:%S"))
add("")

-- 1. PLAYERS DETAIL
add("1Ô∏è‚É£ PLAYERS:")
local players = game:GetService("Players")
local me = players.LocalPlayer

-- All player names
local playerNames = {}
for _, player in pairs(players:GetPlayers()) do
    table.insert(playerNames, player.Name)
end
add("  Online: " .. table.concat(playerNames, ", "))

if me then
    add("  Me: " .. me.Name)
    
    -- Character details
    if me.Character then
        add("  Character parts:")
        local charParts = me.Character:GetChildren()
        for i = 1, math.min(10, #charParts) do
            local part = charParts[i]
            add("    ‚Ä¢ " .. part.Name .. " (" .. part.ClassName .. ")")
        end
        
        -- Backpack tools
        if me.Backpack then
            local tools = {}
            for _, item in pairs(me.Backpack:GetChildren()) do
                if item:IsA("Tool") then
                    table.insert(tools, item.Name)
                end
            end
            if #tools > 0 then
                add("  Backpack tools: " .. table.concat(tools, ", "))
            end
        end
    end
end
add("")

-- 2. WORKSPACE DETAIL
add("2Ô∏è‚É£ WORKSPACE ITEMS:")
local workspace = game:GetService("Workspace")
local wsItems = workspace:GetChildren()

for i = 1, math.min(15, #wsItems) do
    local item = wsItems[i]
    add("  ‚Ä¢ " .. item.Name .. " (" .. item.ClassName .. ")")
    
    -- Show first 3 children of important items
    if item:IsA("Model") or item:IsA("Folder") then
        local children = item:GetChildren()
        for j = 1, math.min(3, #children) do
            local child = children[j]
            if child:IsA("Tool") or child:IsA("Part") or child:IsA("Script") then
                add("    ‚Ü≥ " .. child.Name .. " (" .. child.ClassName .. ")")
            end
        end
    end
end

if #wsItems > 15 then
    add("  ... and " .. (#wsItems - 15) .. " more items")
end
add("")

-- 3. REPLICATEDSTORAGE DETAIL (MOST IMPORTANT)
add("3Ô∏è‚É£ REPLICATEDSTORAGE DETAIL:")
local rs = game:GetService("ReplicatedStorage")
local rsItems = rs:GetChildren()

-- Group by type
local modules = {}
local remotes = {}
local folders = {}
local others = {}

for _, item in pairs(rsItems) do
    if item:IsA("ModuleScript") then
        table.insert(modules, item.Name)
    elseif item:IsA("RemoteEvent") or item:IsA("RemoteFunction") then
        table.insert(remotes, item.Name)
    elseif item:IsA("Folder") then
        table.insert(folders, item.Name)
    else
        table.insert(others, item.Name .. " (" .. item.ClassName .. ")")
    end
end

-- Show modules
if #modules > 0 then
    add("  üì¶ MODULESCRIPTS (" .. #modules .. "):")
    for i = 1, math.min(10, #modules) do
        add("    ‚Ä¢ " .. modules[i])
    end
    if #modules > 10 then
        add("    ... and " .. (#modules - 10) .. " more")
    end
end

-- Show remotes
if #remotes > 0 then
    add("  üîó REMOTES (" .. #remotes .. "):")
    for _, remote in pairs(remotes) do
        add("    ‚Ä¢ " .. remote)
    end
end

-- Show folders
if #folders > 0 then
    add("  üìÅ FOLDERS (" .. #folders .. "):")
    for i = 1, math.min(5, #folders) do
        add("    ‚Ä¢ " .. folders[i])
        
        -- Peek inside important folders
        local folder = rs:FindFirstChild(folders[i])
        if folder then
            local folderItems = folder:GetChildren()
            for j = 1, math.min(3, #folderItems) do
                local fItem = folderItems[j]
                if fItem:IsA("ModuleScript") or fItem:IsA("RemoteEvent") then
                    add("      ‚Ü≥ " .. fItem.Name .. " (" .. fItem.ClassName .. ")")
                end
            end
        end
    end
end

-- Show others
if #others > 0 then
    add("  üìù OTHER (" .. #others .. "):")
    for i = 1, math.min(5, #others) do
        add("    ‚Ä¢ " .. others[i])
    end
end
add("")

-- 4. TOOLS/GUNS SEARCH
add("4Ô∏è‚É£ TOOLS & GUNS SEARCH:")

-- Search workspace for anything that looks like a weapon
local potentialWeapons = {}
local allDescendants = workspace:GetDescendants()

for i = 1, math.min(100, #allDescendants) do
    local item = allDescendants[i]
    if item:IsA("Tool") then
        table.insert(potentialWeapons, "Tool: " .. item:GetFullName())
    elseif item:IsA("Model") and (
        item.Name:find("Gun") or 
        item.Name:find("Weapon") or 
        item.Name:find("Sword") or
        item.Name:find("Knife") or
        item.Name:find("Bow") or
        item.Name:find("Rifle")
    ) then
        table.insert(potentialWeapons, "Model: " .. item:GetFullName())
    end
end

if #potentialWeapons > 0 then
    for i = 1, math.min(10, #potentialWeapons) do
        add("  ‚Ä¢ " .. potentialWeapons[i])
    end
    if #potentialWeapons > 10 then
        add("  ... and " .. (#potentialWeapons - 10) .. " more possible weapons")
    end
else
    add("  No obvious weapons found")
end
add("")

-- 5. NETWORKING (RemoteEvents/Functions)
add("5Ô∏è‚É£ NETWORKING - ALL REMOTES FOUND:")

local allRemotes = {}
local servicesToCheck = {
    "ReplicatedStorage",
    "Workspace", 
    "Players",
    "ReplicatedFirst"
}

for _, serviceName in pairs(servicesToCheck) do
    local service = game:GetService(serviceName)
    if service then
        for _, item in pairs(service:GetDescendants()) do
            if item:IsA("RemoteEvent") then
                table.insert(allRemotes, serviceName .. " ‚Üí " .. item:GetFullName())
            elseif item:IsA("RemoteFunction") then
                table.insert(allRemotes, serviceName .. " ‚Üí " .. item:GetFullName() .. " (Function)")
            end
        end
    end
end

if #allRemotes > 0 then
    for _, remote in pairs(allRemotes) do
        add("  üîó " .. remote)
    end
else
    add("  No remotes found (unusual!)")
end
add("")

-- 6. SCRIPT LOCATIONS
add("6Ô∏è‚É£ SCRIPT LOCATIONS (first 10):")
local scriptsFound = 0
local scriptTypes = {"Script", "LocalScript", "ModuleScript"}

for _, serviceName in pairs(servicesToCheck) do
    local service = game:GetService(serviceName)
    if service then
        for _, item in pairs(service:GetDescendants()) do
            for _, scriptType in pairs(scriptTypes) do
                if item:IsA(scriptType) then
                    add("  üìú " .. serviceName .. " ‚Üí " .. item:GetFullName())
                    scriptsFound = scriptsFound + 1
                    if scriptsFound >= 10 then break end
                end
            end
            if scriptsFound >= 10 then break end
        end
    end
    if scriptsFound >= 10 then break end
end

add("  Total scripts found: " .. scriptsFound .. " (showing first 10)")
add("")

-- FINAL OUTPUT
local finalOutput = table.concat(output, "\n")
print(finalOutput)

-- SAVE ATTEMPT
print("\n" .. string.rep("=", 50))
print("SAVING...")

local saved = false

-- Method 1: Clipboard
if type(setclipboard) == "function" then
    local ok = pcall(setclipboard, finalOutput)
    if ok then
        print("‚úÖ COPIED TO CLIPBOARD!")
        saved = true
    end
end

-- Method 2: File
if not saved and type(writefile) == "function" then
    local ok = pcall(writefile, "game_details.txt", finalOutput)
    if ok then
        print("‚úÖ SAVED TO: game_details.txt")
        saved = true
    end
end

-- Method 3: Manual
if not saved then
    print("‚ö†Ô∏è  COULD NOT AUTO-SAVE")
    print("üìã PLEASE MANUALLY COPY THE TEXT ABOVE")
end

print("\nüìä STATS:")
print("Lines: " .. #output)
print("Chars: " .. #finalOutput)
print("=" .. string.rep("=", 50))
